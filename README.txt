# Stock Market Expanded by Astroolean

## A Comprehensive Stock Trading Experience for Cyberpunk 2077

---

## TABLE OF CONTENTS

1. [Overview](#overview)
2. [Features](#features)
3. [Requirements](#requirements)
4. [Installation](#installation)
5. [Getting Started](#getting-started)
6. [The Stock Browser Interface](#the-stock-browser-interface)
7. [Trading Stocks](#trading-stocks)
8. [128 Corporations](#128-corporations)
9. [News System](#news-system)
10. [Security Score System](#security-score-system)
11. [Insurance System](#insurance-system)
12. [Portfolio Management](#portfolio-management)
13. [Dynamic Price Triggers](#dynamic-price-triggers)
14. [Difficulty Settings](#difficulty-settings)
15. [Configuration System](#configuration-system)
16. [Hot-Reload Feature](#hot-reload-feature)
17. [Troubleshooting](#troubleshooting)
18. [Credits](#credits)

---

## OVERVIEW

Stock Market Expanded transforms Cyberpunk 2077 into a fully immersive financial simulation. Trade stocks from 128 Night City corporations, manage your portfolio, protect yourself from hackers with insurance, and watch as your in-game actions directly affect market prices.

**Key Features:**

- **128 Tradeable Corporations** - Trade stocks from every major company in Night City
- **500+ News Events** - Dynamic news system that affects stock prices
- **Dynamic Price System** - Stock prices respond to your gameplay actions
- **Security Score System** - Your trading behavior affects your vulnerability to hackers
- **Insurance System** - 6 tiers of protection for your portfolio
- **128 Price Triggers** - In-game events and actions affect stock prices
- **Fully Configurable** - Master configuration file with 350+ customizable settings
- **Hot-Reload Support** - Change most settings without restarting the game

---

## FEATURES

### Core Trading Features
- Buy and sell shares in 128 Night City corporations
- Real-time price updates with configurable intervals
- Price history graphs
- Quick-buy buttons (1, 10, 100, 1000, MAX shares)
- Sorting by name, price, or trend
- Filtering: All stocks, Owned, Gainers, Losers

### Security & Risk
- Security Score (0-100) affects your hack vulnerability
- Proper logout behavior rewards safe trading habits
- Public PC usage increases hacking risk
- Anti-exploit measures prevent system abuse

### Insurance Protection
- 6 insurance tiers: Uninsured, Basic, Standard, Premium, Platinum, Diamond
- Monthly premiums or one-time Diamond payment
- Coverage from 25% to 100% of losses
- Insurance protects against hack losses

### Dynamic Economy
- 128 gameplay triggers affect stock prices
- Quest completion impacts related corporations
- Vehicle purchases, weapon usage, and crimes all matter
- Corporation-specific events

### Professional UI
- Large, readable text throughout (38-80pt fonts)
- Cyberpunk-themed cyan and gold color scheme
- Clean, organized page layouts
- Responsive hover and click feedback

---

## REQUIREMENTS

- Cyberpunk 2077 (latest version recommended)
- Cyber Engine Tweaks (CET) - Latest version

---

## INSTALLATION

1. **Backup your saves** (always recommended before installing mods)

2. **Install Cyber Engine Tweaks (CET)** if you haven't already
   - Download from Nexus Mods
   - Follow CET installation instructions

3. **Install Stock Market Expanded**
   - Extract the contents of this zip file
   - Copy the `bin` folder to your Cyberpunk 2077 installation directory
   - The mod files should end up at:
     ```
     Cyberpunk 2077/bin/x64/plugins/cyber_engine_tweaks/mods/stocks/
     ```

4. **Launch the game** and the mod will initialize automatically

---

## GETTING STARTED

### Accessing the Stock Browser

1. Open your in-game computer terminal (any computer in the game world)
2. Look for the "Stock Exchange" option
3. Click to open the Stock Browser interface

### Your First Trade

1. Browse the stock list on the MARKET page
2. Click on any corporation to view details
3. Use the share buttons (+1, +10, +100, +1000) to set quantity
4. Click BUY to purchase shares
5. Monitor your holdings on the PORTFOLIO page

### The Interface

The Stock Browser has 6 main pages accessible via the bottom menu:

| Page | Description |
|------|-------------|
| **HOME** | Market overview, security status, quick stats |
| **MARKET** | Browse and trade all 128 stocks |
| **PORTFOLIO** | View your holdings and profit/loss |
| **NEWS** | Market news that affects stock prices |
| **INSURANCE** | Purchase protection against hackers |
| **LOGOUT** | Safely exit (important for security score) |

---

## THE STOCK BROWSER INTERFACE

### Home Page
- Welcome message and current security score
- Market summary with top gainers/losers
- Insurance status indicator

### Market Page
- Full list of 128 tradeable stocks
- Filter buttons: ALL, OWNED, GAINERS, LOSERS
- Sort buttons: NAME, PRICE, TREND
- Click any stock to open the trading view

### Stock Detail View
- Company name and current price
- Price change percentage (green = up, red = down)
- Price history graph
- Share quantity selector
- BUY and SELL buttons
- Your current position summary

### Portfolio Page
- List of all owned stocks
- Current value and profit/loss for each holding
- Total portfolio value
- Realized and unrealized gains/losses

### News Page
- Market news headlines
- News affects stock prices
- Reading news improves your security score

### Insurance Page
- Current coverage status
- Available insurance tiers
- Premium costs and coverage percentages
- Purchase and upgrade options

---

## TRADING STOCKS

### Buying Shares

1. Navigate to the MARKET page
2. Click on a stock to open the trading view
3. Set your desired quantity using:
   - +1, +10, +100, +1000 buttons
   - MAX button (buys as many as you can afford)
4. Click the BUY button

### Selling Shares

1. Navigate to PORTFOLIO or find the stock in MARKET
2. Click on your owned stock
3. Set the quantity to sell
4. Click the SELL button

### Trading Tips

- **Diversify**: Holding 5+ different stocks improves your security score
- **Watch the news**: News events signal price movements
- **Logout properly**: Always use the LOGOUT button for security bonuses
- **Check trends**: The TREND column shows recent price direction
- **Use insurance**: Protect large portfolios from hackers

---

## 128 CORPORATIONS

Stock Market Expanded features 128 Night City corporations organized by sector:

### Megacorporations
- Arasaka
- Militech
- Kang Tao
- Biotechnica
- Petrochem

### Vehicle Manufacturers
- Quadra
- Rayfield
- Thorton
- Archer
- Yaiba
- Mizutani
- Villefort
- Chevillon
- Mahir Motors
- Brennan
- ARCH Motorcycle
- Herrera
- Porsche
- Makigai
- Kaukaz
- Aurochs
- Carolli
- Avante
- Nokota

### Weapons & Security
- Tsunami Defense Systems
- Budget Arms
- Constitutional Arms
- Midnight Arms
- Malorian Arms
- Darra Polytechnic
- Rostovic
- Kendachi
- Pursuit Security
- Gibson Battlegear
- Hansen Armory
- Impala Automatics
- Scopdog

### Technology & Cyberware
- Kiroshi
- QianT
- Microtech
- Techtronika
- Fuyutsuki Electronics
- Dynalar
- Rocklin Augmentics
- Biotech Sigma
- BioDyne
- Cybermatrix
- Cytech
- Zetatech
- Raven Microcybernetics
- Data Inc.
- Digital Dimensions
- Euro Business Machines
- Infocomp

### Medical & Healthcare
- Trauma Team
- Lazarus
- Gene-Tek
- Bodyweight Life Preservation Systems
- Heywood Medical

### Media & Entertainment
- Network 54
- Diverse Media Systems
- Growl FM
- Braindance Inc.
- Fourth Wall
- Japantown Media
- Westbrook Entertainment
- Chromanticore

### Financial Services
- 1st Night City Bank
- EuroBank
- United States Bank
- First Continental Bank
- Allworld Insurance
- Decker, Tanaka & Rogers
- Halsey, Ferris & Skiv
- Asukaga & Finch

### Food & Beverage
- All Foods
- Nicola
- Buck-A-Slice
- Continental Brands
- Corp-Bud
- Breezy
- Kibble Corp
- Cino

### Transport & Logistics
- Delamain Corporation
- Combat Cab
- NCART
- Orbital Air
- Orbital Cargo
- Watson Logistics
- ITS

### Real Estate & Development
- Night City Development Authority
- City Center Holdings
- Glen Development
- Vista Del Rey Properties
- Pacifica Development
- Colby Holdings
- Stadium Commerce

### Energy & Resources
- OTEC
- SovOil
- Arroyo Power
- Wellsprings Water
- Hydrosubsidium
- Northside Industrial
- Rancho Coronado Supply

### Other Corporations
- Danger Gal
- Charon Exotics
- Baskin Undercover
- Stylishly
- Jinguji
- Empathy
- Secure Services Inc.
- Kizamasu Inc.
- Little China Trading
- Kabuki Market
- Lizzie's Bar
- Konpeki Plaza
- Megabuilding H10
- Afterlife
- Tsuka Heavy Industries
- WorldSat
- ESA
- Zhirafa
- IHAG
- IEC
- Armscor
- Dakai Soundsystems
- Eji of Japan
- Dogtown Salvage

---

## NEWS SYSTEM

The News System delivers over 500 unique news events that affect stock prices in real-time.

### How News Works

News events trigger based on:
- Quest completion throughout the game
- Player actions (combat, purchases, crimes)
- Corporation-specific events
- Location-based activities

Each news story:
- Appears on the NEWS page of the Stock Browser
- Affects the stock price of related corporations
- Has a delay timer before becoming active
- Can be positive or negative for stock prices

### News Categories

- **Quest News** - Triggered by completing main story and side quests
- **Action News** - Triggered by player combat, purchases, and activities
- **Corporate News** - Company-specific events and announcements
- **Location News** - Activities in specific Night City districts

### Reading News Benefits

- Reading news articles improves your security score (+1 per read)
- 2-minute cooldown between security bonuses
- Stay informed about which corporations are affected
- News page shows the latest market-moving events

### News Notifications

When enabled, you'll receive phone notifications about:
- Breaking news that affects your holdings
- Major market events
- Price alerts for stocks you own

---

## SECURITY SCORE SYSTEM

Your Security Score (0-100) determines how vulnerable you are to hackers.

### How It Works

- **Higher score** = Lower chance of being hacked
- **Lower score** = Higher chance of losing funds to hackers
- Score starts at 50 and changes based on your behavior

### Ways to INCREASE Security Score

| Action | Bonus |
|--------|-------|
| Proper logout (using LOGOUT button) | +10 |
| Consecutive secure logins (every 3) | +5 |
| Diversified portfolio (5+ stocks) | +5 |
| Reading news articles | +1 (2-min cooldown) |
| Successful trade | +2 |
| Checking portfolio | +1 (5-min cooldown) |
| Having insurance | +3 |
| Clean record (7 days no hacks) | +5 |
| Surviving a hack attempt | +3 |
| Frequent logins (3+ days) | +2 |

### Ways to DECREASE Security Score

| Action | Penalty |
|--------|---------|
| Insecure logout (closing without logout) | -15 |
| Using public PC | -5 |
| Long session (30+ minutes) | -2 |
| Large trade (100K+) | -5 |
| Rapid trading (within 30 seconds) | -8 |
| Failed trade | -3 |
| Concentrated portfolio | -10 |
| Night trading (2-5 AM) | -4 |
| Idle session (15+ minutes) | -1 |
| All-in-one stock | -15 |
| High-value target (500K+ portfolio) | -5 |

### Anti-Exploit Measures

The security system includes protections:
- **10-second minimum session** before logout bonuses apply
- **30-second login cooldown** between sessions
- **5-minute portfolio check cooldown** for bonuses
- **2-minute news read cooldown** for bonuses
- **Every 3 logins** for consecutive bonus (not every login)
- **Maximum 3 diversification bonuses** per session

### Hacking Severity

When hacked, severity is determined randomly:

| Severity | Chance | Loss |
|----------|--------|------|
| Minor | 50% | 25% of portfolio |
| Major | 35% | 50% of portfolio |
| Catastrophic | 15% | 100% of portfolio |

---

## INSURANCE SYSTEM

Protect your investments with CPIC (Cyber Punk Insurance Corporation).

### Insurance Tiers

| Tier | Monthly Premium | Coverage | Max Payout |
|------|-----------------|----------|------------|
| **Uninsured** | Free | 0% | 0 |
| **Basic** | 500 E$/month | 25% | 100,000 E$ |
| **Standard** | 2,000 E$/month | 40% | 500,000 E$ |
| **Premium** | 5,000 E$/month | 50% | 2,000,000 E$ |
| **Platinum** | 15,000 E$/month | 75% | 10,000,000 E$ |
| **Diamond** | 100,000 E$ ONE-TIME | 100% | UNLIMITED |

### How Insurance Works

1. Purchase a plan from the INSURANCE page
2. Pay monthly premiums (deducted automatically)
3. If hacked, insurance covers a percentage of losses
4. Claims have cooldowns (30 days between claims)
5. Maximum 3 claims per year

---

## PORTFOLIO MANAGEMENT

### Portfolio Page Features

- **Total Value**: Combined worth of all holdings
- **Total P&L**: Overall profit/loss
- **Individual Holdings**: Each stock with quantity and current value
- **Cost Basis**: Original purchase price
- **Unrealized P&L**: Gains/losses on unsold shares
- **Realized P&L**: Gains/losses from completed sales

### Diversification

Holding multiple stocks benefits you:
- **5+ different stocks** = Diversification bonus to security score
- **1 stock** = Concentrated portfolio penalty

---

## DYNAMIC PRICE TRIGGERS

Stock prices respond to 128 in-game events and actions.

### Types of Triggers

**Quest Triggers** - Completing quests affects related corporations

**Action Triggers** - Your gameplay directly affects the market:
- Vehicle purchases affect vehicle manufacturer stocks
- Weapon usage affects arms company stocks
- Cyberware use affects tech company stocks
- Crime activity affects security company stocks
- Location-based activities affect local businesses

**Corporation-Specific Events** - Each of the 128 corporations has dedicated trigger events

---

## DIFFICULTY SETTINGS

Choose your challenge level in the configuration file.

### Presets

| Preset | Hack Chance | Insurance Cost | Volatility | Trading Fees |
|--------|-------------|----------------|------------|--------------|
| **Story** | 0% | 50% | 50% | 0% |
| **Easy** | 50% | 75% | 75% | 50% |
| **Normal** | 100% | 100% | 100% | 100% |
| **Hard** | 150% | 125% | 125% | 150% |
| **Nightmare** | 250% | 150% | 175% | 200% |
| **Custom** | Your choice | Your choice | Your choice | Your choice |

---

## CONFIGURATION SYSTEM

Stock Market Expanded features a comprehensive configuration system.

### Master Configuration File

Location:
```
bin/x64/plugins/cyber_engine_tweaks/mods/stocks/data/config/settings.json
```

### Configuration Sections

The settings.json file contains 16 major sections with 350+ configurable values:

1. **general** - Core mod settings, language, currency
2. **ui** - Theme colors, fonts, layout dimensions
3. **stockMarket** - Volatility, trading fees, share buttons
4. **portfolio** - Display options, alerts, thresholds
5. **security** - Hacking risk, security score factors
6. **insurance** - Tier definitions, premiums, coverage
7. **news** - Update intervals, categories, display
8. **home** - Home page elements, market summary
9. **difficulty** - Preset definitions, custom multipliers
10. **audio** - Sound effects, volume settings
11. **notifications** - Alerts, duration, filters
12. **graph** - Price chart colors, dimensions
13. **triggers** - Quest and action impact multipliers
14. **advanced** - Save data, logging, performance

---

## HOT-RELOAD FEATURE

Change most settings without restarting the game.

### Instant Reload (Press Hotkey)

These settings apply immediately when you press the reload hotkey:
- Stock update interval
- Market volatility settings
- Trading fees
- Difficulty multipliers
- Security score values
- Insurance premiums

### Setup Reload Hotkey

1. Open CET Settings
2. Navigate to: Bindings > Hotkeys
3. Find: "Reload Stock Market Config"
4. Assign your preferred key

### Close & Reopen UI (No Restart)

These settings apply when you close and reopen the Stock Browser:
- UI theme colors
- Font sizes
- Layout dimensions
- All visual/cosmetic settings

### Requires Game Restart

Only these changes need a full game restart:
- Adding completely new corporations
- Changing language files
- Modifying the config structure

---

## TROUBLESHOOTING

### Mod Not Loading

1. Verify CET is installed correctly
2. Check that files are in the correct location
3. Look for error messages in CET console

### Stock Browser Not Appearing

1. Try different computer terminals in-game
2. Ensure you're not in combat or restricted areas

### Prices Not Updating

1. Check settings.json for syntax errors
2. Verify "enabled": true in relevant sections
3. Try reloading the config with hotkey

### Configuration Errors

1. Validate your JSON syntax
2. Restore from backup if needed

---

## CREDITS

### Created By
- **Astroolean** - Expansion to 128 corporations, comprehensive configuration system, security score system, insurance system, premium UI, hot-reload feature

### Original Mod
- Based on the original Stock Market mod

### Libraries
- **psiberx** - Cron.lua, GameSession.lua, GameUI.lua, and other utility libraries

---

## VERSION

**Version 3.0.0**
- 128 canonical corporations
- Comprehensive configuration system (350+ settings)
- Security Score System with anti-exploit measures
- Insurance system with 6 tiers
- Premium professional UI with large readable text
- Hot-reload support for settings
- 128 dynamic price triggers
- Difficulty preset system

---

*Welcome to Night City's financial district, choom. Trade smart and stay secure.*
